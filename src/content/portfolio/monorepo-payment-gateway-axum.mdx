---
title: "Example Sea Query Tonic Payment Gateway"
excerpt: "A monorepo payment gateway built with Rust, gRPC, PostgreSQL, and with full observability stack."
date: "2025-05-18"
tags: [
  "rust", "grpc", "tonic", "axum", "postgresql", "docker", "docker-compose",
  "prometheus", "grafana", "opentelemetry", "jaeger", "redis",
  "loki", "otel-collector", "tracing", "sqlx", "seaquery","node-exporter", "postman"
]
status: "selesai"
image: "https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/loki.png"
---

# Example Sea Query Tonic Payment Gateway

I developed a modern, high-performance Payment Gateway service in Rust, structured as a monorepo. The backend uses Axum for REST APIs and Tonic for gRPC services, enabling flexible and efficient communication. Database access is type-safe and robust, implemented with SeaQuery and SQLx on top of PostgreSQL, complemented by Redis caching for improved performance. Authentication is securely managed using JWT tokens and bcrypt for password hashing. Additionally, the monorepo contains dedicated Rust clients for both Axum REST and Tonic gRPC, facilitating seamless integration and consistent API consumption across the system.

## 🛠️ Technologies Used
- 🔧 **Axum** — Web framework for building high-performant RESTful APIs in Rust.
- 🚀 **Tonic** — A gRPC over HTTP/2 implementation for building fast, type-safe services in Rust.
- 🧰 **SQLx + SeaQuery** — Async SQL toolkit + query builder for working with PostgreSQL efficiently.
- 📈 **Prometheus** — Gathers real-time metrics for APIs and system components.
- 🛰️ **OpenTelemetry** — Enables distributed tracing and telemetry collection.
- 🧵 **Tracing** — Instrumentation framework for structured logging and observability.
- 🐘 **PostgreSQL** — Primary relational database for storing application and user data.
- 🐳 **Docker & Docker Compose** — Containerization tools for local development and deployment.
- 📥 **Loki** — Centralized log aggregation system for observability.
- 📤 **Promtail** — Collects logs and ships them to Loki.
- 🔧 **OTel Collector** — Bridges metrics, traces, and logs to your observability stack.
- 🖥️ **Node Exporter** — Collects system-level metrics (CPU, memory, I/O, etc.).
- 📊 **Grafana** — Dashboard tool for visualizing metrics and logs.
- 🔍 **Jaeger** — Distributed tracing backend.
- 🧪 **Postman** — API client for testing HTTP and gRPC endpoints.


## Demo

### OpenApi Utoipa

<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/openapi.png" />

### Jaeger
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/Jaeger.png" />

### Proometheus

<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/prometheus.png" />

### Metrics

#### Metrics server
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/metrics_server.png" />


#### Metrics client
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/metrics_client.png" />

### Loki

<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/loki.png" />

### Grafana Prometheus

#### Server Metrics

<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/grafana-server.png" />


#### Client Metrics
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/grafana-client.png" />


### Node Exporter
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/node-expoter.png" />


### Otel Collectr
<img src="https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic/raw/main/images/otel.png" />



## 🔗 Source Code & Repository
[📌 View on GitHub](https://github.com/MamangRust/example-axum-seaquery_payment_gateway-tonic)